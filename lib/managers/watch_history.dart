import 'package:zen_player/models/playlist.dart';import 'package:zen_player/models/video.dart';import 'package:zen_player/modules/vendors/video.dart';class WatchHistoryManager {  final PlayListModel playListModel;  final VideoModel videoModel;  static const String DEFAULT_PLAYLIST_NAME = "Watch History";  static const int MAX_VIDEOS = 30;  WatchHistoryManager({    required this.playListModel,    required this.videoModel,  });  factory WatchHistoryManager.fromDefault() {    return WatchHistoryManager(        playListModel: PlayListModel.getInstance(),        videoModel: VideoModel.getInstance());  }  Future<AppPlayList> create() async {    const Map<String, dynamic> WATCH_HISTORY_DATA = {      "name": WatchHistoryManager.DEFAULT_PLAYLIST_NAME,      "isBuiltIn": true    };    return (await this.playListModel.findOrCreate(WATCH_HISTORY_DATA));  }  Future<void> addVideo(AppVideo video) async {    AppPlayList watchedHistory = await this.create();    await this.playListModel.addVideo(int.parse(watchedHistory.id), video.id);  }}